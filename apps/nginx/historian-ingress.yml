apiVersion: extensions/v1beta1
kind: Ingress
metadata:
 name: historian
 namespace: default
 annotations:
   kubernetes.io/ingress.class: "nginx"
   ingress.kubernetes.io/rewrite-target: /
   ingress.kubernetes.io/ssl-redirect: "true"
spec:
 tls:
 - hosts:
   - "pragueapps.westus2.cloudapp.azure.com"
   secretName: tls-certificate
 rules:
 - host: "pragueapps.westus2.cloudapp.azure.com"
   http:
     paths:
     - path: /historian
       backend:
         serviceName: terrific-otter-historian
         servicePort: 80