{"version":3,"file":"index.js","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":";;;;;;;;AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,qBAAqB,CAAC;AAC7C,OAAO,EAAE,eAAe,EAAqB,MAAM,0BAA0B,CAAC;AAE9E,OAAO,EAAE,SAAS,EAAE,MAAM,uBAAuB,CAAC;AAClD,OAAO,EAAE,SAAS,EAAE,MAAM,mBAAmB,CAAC;AAC9C,OAAO,EAAE,YAAY,EAAE,MAAM,aAAa,CAAC;AAC3C,OAAO,EAAE,MAAM,EAAE,MAAM,qBAAqB,CAAC;AAE7C,MAAM,OAAO,UAAW,SAAQ,SAAS;IACrC;QACI,KAAK,CAAC,CAAC,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC;IACrD,CAAC;IAEY,MAAM;;YACf,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAc,KAAK,CAAC,CAAC;YACxE,IAAI,QAAQ,EAAE;gBACV,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,aAAa,CAAe,MAAM,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,CAAC;gBAChG,MAAM,MAAM,GAAG,IAAI,MAAM,EAAE,CAAC;gBAC5B,MAAM,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,EAAE,GAAG,EAAE,SAAS,EAAE,IAAI,SAAS,EAAE,EAAE,gBAAgB,EAAE,EAAE,EAAE,CAAC,CAAC;gBACrF,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;aAC9B;QACL,CAAC;KAAA;IAEe,MAAM;;YAClB,2CAA2C;YAC3C,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACtD,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,KAAK,EAAE,0BAA0B,CAAC,CAAC;YACzE,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;QAClC,CAAC;KAAA;CACJ","sourcesContent":["export { Editor } from \"./components/editor\";\r\nexport { VirtualizedView, IVirtualizedProps } from \"./components/virtualized\";\r\nimport { FlowDocument } from \"@chaincode/flow-document\";\r\nimport { Component } from \"@prague/app-component\";\r\nimport { Scheduler } from \"@prague/flow-util\";\r\nimport { MapExtension } from \"@prague/map\";\r\nimport { Editor } from \"./components/editor\";\r\n\r\nexport class FlowEditor extends Component {\r\n    constructor() {\r\n        super([[MapExtension.Type, new MapExtension()]]);\r\n    }\r\n\r\n    public async opened() {\r\n        const maybeDiv = await this.platform.queryInterface<HTMLElement>(\"div\");\r\n        if (maybeDiv) {\r\n            const doc = await this.runtime.openComponent<FlowDocument>(await this.root.wait(\"docId\"), true);\r\n            const editor = new Editor();\r\n            const root = editor.mount({ doc, scheduler: new Scheduler(), trackedPositions: [] });\r\n            maybeDiv.appendChild(root);\r\n        }\r\n    }\r\n\r\n    protected async create() {\r\n        // tslint:disable-next-line:insecure-random\r\n        const docId = Math.random().toString(36).substr(2, 4);\r\n        this.runtime.createAndAttachComponent(docId, \"@chaincode/flow-document\");\r\n        this.root.set(\"docId\", docId);\r\n    }\r\n}\r\n"]}