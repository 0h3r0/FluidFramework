apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ template "gateway.fullname" . }}
  labels:
    app: {{ template "routerlicious.name" . }}
    chart: "{{ .Chart.Name }}-{{ .Chart.Version }}"
    component: "{{ .Values.name }}"
    release: "{{ .Release.Name }}"
    heritage: "{{ .Release.Service }}"
data:
  config.json: |
    {
        "logger": {
            "colorize": true,
            "morganFormat": "dev",
            "json": false,
            "level": "info",
            "timestamp": true,
            "label": "winston"
        },
        "gateway": {
            "maxMessageSize": "16KB",
            "restJsonSize": "50mb",
            "key": "",
            "url": "",
            "tenants": [
                {
                    "id": "eventhub",
                    "key": ""
                }
            ],
            "federation": {
                "endpoints": [
                    "https://www.wu2-ppe.prague.office-int.com",
                    "https://www.wu2.prague.office-int.com",
                    "https://www.eu2.prague.office-int.com",
                    "https://www.we.prague.office-int.com"
                ]
            }
        },
        "login": {
            "enabled": true,
            "microsoft": {
                "clientId": "",
                "secret": ""
            },
            "accounts": [
                {
                    "username": "",
                    "password": ""
                }
            ]
        },
        "redis": {
            "host": "",
            "key": "",
            "pass": "",
            "port": 6380,
            "tls": true
        },
        "error": {
            "track": false,
            "endpoint" : ""
        },
        "worker": {
            "alfredUrl": "https://alfredfn.wu2-2.prague.office-int.com",
            "serverUrl": "https://alfredfn.wu2-2.prague.office-int.com",
            "blobStorageUrl": "https://api.github.com",
            "repository": "kurtb/praguedocs",
            "npm": "https://pragueauspkn-3873244262.azureedge.net",
            "clusterNpm": "https://pragueauspkn-3873244262.azureedge.net",
            "permission": ["snapshot", "spell", "intel", "translation", "chain-snapshot", "chain-spell", "chain-intel", "chain-translation"]
        }
    }